!function(a,b){"undefined"!=typeof module&&module.exports?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Fingerprint=b()}(this,function(){"use strict";function a(a){var b=Array.prototype.forEach,c=Array.prototype.map;this.each=function(c,d,e){if(null!==c)if(b&&c.forEach===b)c.forEach(d,e);else if(c.length===+c.length){for(var f=0,g=c.length;f<g;f++)if({}===d.call(e,c[f],f,c))return;}else for(var a in c)if(c.hasOwnProperty(a)&&{}===d.call(e,c[a],a,c))return},this.map=function(a,b,d){var e=[];return null==a?e:c&&a.map===c?a.map(b,d):(this.each(a,function(c,f,g){e[e.length]=b.call(d,c,f,g)}),e)},"object"==typeof a?(this.hasher=a.hasher,this.screen_resolution=a.screen_resolution,this.screen_orientation=a.screen_orientation,this.canvas=a.canvas,this.ie_activex=a.ie_activex):"function"==typeof a&&(this.hasher=a)}return a.prototype={get:function(){var a=[];return a.push(navigator.userAgent),a.push(navigator.language),a.push(screen.colorDepth),this.screen_resolution&&void 0!==this.getScreenResolution()&&a.push(this.getScreenResolution().join("x")),a.push(new Date().getTimezoneOffset()),a.push(this.hasSessionStorage()),a.push(this.hasLocalStorage()),a.push(!!window.indexedDB),document.body?a.push(typeof document.body.addBehavior):a.push("undefined"),a.push(typeof window.openDatabase),a.push(navigator.cpuClass),a.push(navigator.platform),a.push(navigator.doNotTrack),a.push(this.getPluginsString()),this.canvas&&this.isCanvasSupported()&&a.push(this.getCanvasFingerprint()),this.hasher?this.hasher(a.join("###"),31):this.murmurhash3_32_gc(a.join("###"),31)},murmurhash3_32_gc:function(b,d){for(var e,f,g=3&b.length,h=b.length-g,a=d,j=0;j<h;)f=255&b.charCodeAt(j)|(255&b.charCodeAt(++j))<<8|(255&b.charCodeAt(++j))<<16|(255&b.charCodeAt(++j))<<24,++j,a=27492+(65535&(e=4294967295&5*(65535&(a=(a^=f=4294967295&461845907*(65535&(f=(f=4294967295&3432918353*(65535&f)+((65535&3432918353*(f>>>16))<<16))<<15|f>>>17))+((65535&461845907*(f>>>16))<<16))<<13|a>>>19))+((65535&5*(a>>>16))<<16)))+((65535&58964+(e>>>16))<<16);switch(f=0,g){case 3:f^=(255&b.charCodeAt(j+2))<<16;case 2:f^=(255&b.charCodeAt(j+1))<<8;case 1:a^=f=4294967295&461845907*(65535&(f=(f=4294967295&3432918353*(65535&(f^=255&b.charCodeAt(j)))+((65535&3432918353*(f>>>16))<<16))<<15|f>>>17))+((65535&461845907*(f>>>16))<<16);}return a^=b.length,a=4294967295&2246822507*(65535&(a^=a>>>16))+((65535&2246822507*(a>>>16))<<16),a=4294967295&3266489909*(65535&(a^=a>>>13))+((65535&3266489909*(a>>>16))<<16),(a^=a>>>16)>>>0},hasLocalStorage:function(){try{return!!window.localStorage}catch(a){return!0}},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(a){return!0}},isCanvasSupported:function(){var a=document.createElement("canvas");return a.getContext&&a.getContext("2d")},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&/Trident/.test(navigator.userAgent)},getPluginsString:function(){return this.isIE()&&this.ie_activex?this.getIEPluginsString():this.getRegularPluginsString()},getRegularPluginsString:function(){return this.map(navigator.plugins,function(a){var b=this.map(a,function(a){return[a.type,a.suffixes].join("~")}).join(",");return[a.name,a.description,b].join("::")},this).join(";")},getIEPluginsString:function(){return window.ActiveXObject?this.map(["ShockwaveFlash.ShockwaveFlash","AcroPDF.PDF","PDF.PdfCtrl","QuickTime.QuickTime","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer","SWCtl.SWCtl","WMPlayer.OCX","AgControl.AgControl","Skype.Detection"],function(a){try{return new ActiveXObject(a),a}catch(a){return null}}).join(";"):""},getScreenResolution:function(){return!this.screen_orientation||screen.height>screen.width?[screen.height,screen.width]:[screen.width,screen.height]},getCanvasFingerprint:function(){var a=document.createElement("canvas"),b=a.getContext("2d");return b.textBaseline="top",b.font="14px 'Arial'",b.textBaseline="alphabetic",b.fillStyle="#f60",b.fillRect(125,1,62,20),b.fillStyle="#069",b.fillText("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!@#$%^&*()_+-={}|[]:\"<>?;,.",2,15),b.fillStyle="rgba(102, 204, 0, 0.7)",b.fillText("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!@#$%^&*()_+-={}|[]:\"<>?;,.",4,17),a.toDataURL()}},a}),"object"!=typeof _quti&&(_quti=[]),"object"!=typeof window.Quanti&&(window.Quanti=function(){"use strict";var a=document}()),"object"!=typeof _quti&&(_quti=[]),"object"!=typeof window.Quanti&&(window.Quanti=function(){"use strict";function b(a,b,c,d){return a.addEventListener?(a.addEventListener(b,c,d),!0):a.attachEvent?a.attachEvent("on"+b,c):void(a["on"+b]=c)}function d(a){for(var b=0;b<_quti.length;b++)if(_quti[b][0]==a)return _quti[b][1];return"(not set)"}function a(){_quti.push(["url",window.location.href]),_quti.push(["referrer",function(){var b="";try{b=e.top.document.referrer}catch(a){if(e.parent)try{b=e.parent.document.referrer}catch(c){b=""}}return""===b&&(b=f.referrer),b}()]),_quti.push(["visiorId",h.get().toString()]),_quti.push(["deviceType",g()]);var a=new Date;_quti.push(["date",a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()]);var b=JSON.stringify({d:_quti}),a=new XMLHttpRequest;a.open("POST",d("trackerUrl"),!0),a.setRequestHeader("Content-Type","text/plain"),a.send(b),a.onreadystatechange=function(){}}var c,f=document,e=window;let g=()=>{let a=navigator.userAgent;return /(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(a)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(a)?"mobile":"desktop"};var h=new Fingerprint({canvas:!0,ie_activex:!0,screen_resolution:!0});(function(c){var d=!1;return(d=f.attachEvent?"complete"===f.readyState:"loading"!==f.readyState)?void c():void(f.addEventListener?b(f,"DOMContentLoaded",function a(){f.removeEventListener("DOMContentLoaded",a,!1),d||(d=!0,c())}):f.attachEvent&&(f.attachEvent("onreadystatechange",function a(){"complete"!==f.readyState||(f.detachEvent("onreadystatechange",a),d||(d=!0,c()))}),f.documentElement.doScroll&&e===e.top&&function a(){if(!d){try{f.documentElement.doScroll("left")}catch(b){return void setTimeout(a,0)}d=!0,c()}}()),b(e,"load",function(){d||(d=!0,c())},!1))})(function(){a(),console.log("quanti ready")}),b(e,"beforeunload",c=function(){"(not set)"!=d("event")&&a()},!1)}());