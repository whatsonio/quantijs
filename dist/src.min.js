!function(a,b){"undefined"!=typeof module&&module.exports?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Fingerprint=b()}(this,function(){"use strict";function a(b){var c=Array.prototype.forEach,a=Array.prototype.map;this.each=function(a,b,d){if(null!==a)if(c&&a.forEach===c)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;e<f;e++)if({}===b.call(d,a[e],e,a))return;}else for(var g in a)if(a.hasOwnProperty(g)&&{}===b.call(d,a[g],g,a))return},this.map=function(b,c,d){var f=[];return null==b?f:a&&b.map===a?b.map(c,d):(this.each(b,function(a,b,e){f[f.length]=c.call(d,a,b,e)}),f)},"object"==typeof b?(this.hasher=b.hasher,this.screen_resolution=b.screen_resolution,this.screen_orientation=b.screen_orientation,this.canvas=b.canvas,this.ie_activex=b.ie_activex):"function"==typeof b&&(this.hasher=b)}return a.prototype={get:function(){var a=[];return a.push(navigator.userAgent),a.push(navigator.language),a.push(screen.colorDepth),this.screen_resolution&&void 0!==this.getScreenResolution()&&a.push(this.getScreenResolution().join("x")),a.push(this.hasSessionStorage()),a.push(new Date().getTimezoneOffset()),a.push(this.hasLocalStorage()),a.push(!!window.indexedDB),document.body?a.push(typeof document.body.addBehavior):a.push("undefined"),a.push(typeof window.openDatabase),a.push(navigator.cpuClass),a.push(navigator.platform),a.push(navigator.doNotTrack),a.push(this.getPluginsString()),this.canvas&&this.isCanvasSupported()&&a.push(this.getCanvasFingerprint()),this.hasher?this.hasher(a.join("###"),31):this.murmurhash3_32_gc(a.join("###"),31)},murmurhash3_32_gc:function(a,b){var c,d,e,f,g,h,j,k;for(c=3&a.length,d=a.length-c,e=b,g=3432918353,h=461845907,k=0;k<d;)j=255&a.charCodeAt(k)|(255&a.charCodeAt(++k))<<8|(255&a.charCodeAt(++k))<<16|(255&a.charCodeAt(++k))<<24,++k,j=4294967295&(65535&j)*g+((65535&(j>>>16)*g)<<16),j=j<<15|j>>>17,j=4294967295&(65535&j)*h+((65535&(j>>>16)*h)<<16),e^=j,e=e<<13|e>>>19,f=4294967295&5*(65535&e)+((65535&5*(e>>>16))<<16),e=(65535&f)+27492+((65535&(f>>>16)+58964)<<16);switch(j=0,c){case 3:j^=(255&a.charCodeAt(k+2))<<16;case 2:j^=(255&a.charCodeAt(k+1))<<8;case 1:j^=255&a.charCodeAt(k),j=4294967295&(65535&j)*g+((65535&(j>>>16)*g)<<16),j=j<<15|j>>>17,j=4294967295&(65535&j)*h+((65535&(j>>>16)*h)<<16),e^=j}return e^=a.length,e^=e>>>16,e=4294967295&2246822507*(65535&e)+((65535&2246822507*(e>>>16))<<16),e^=e>>>13,e=4294967295&3266489909*(65535&e)+((65535&3266489909*(e>>>16))<<16),e^=e>>>16,e>>>0},hasLocalStorage:function(){try{return!!window.localStorage}catch(a){return!0}},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(a){return!0}},isCanvasSupported:function(){var a=document.createElement("canvas");return a.getContext&&a.getContext("2d")},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&/Trident/.test(navigator.userAgent)},getPluginsString:function(){return this.isIE()&&this.ie_activex?this.getIEPluginsString():this.getRegularPluginsString()},getRegularPluginsString:function(){return this.map(navigator.plugins,function(a){var b=this.map(a,function(a){return[a.type,a.suffixes].join("~")}).join(",");return[a.name,a.description,b].join("::")},this).join(";")},getIEPluginsString:function(){return window.ActiveXObject?this.map(["ShockwaveFlash.ShockwaveFlash","AcroPDF.PDF","PDF.PdfCtrl","QuickTime.QuickTime","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer","SWCtl.SWCtl","WMPlayer.OCX","AgControl.AgControl","Skype.Detection"],function(a){try{return new ActiveXObject(a),a}catch(a){return null}}).join(";"):""},getScreenResolution:function(){var a=!this.screen_orientation||screen.height>screen.width?[screen.height,screen.width]:[screen.width,screen.height];return a},getCanvasFingerprint:function(){var a=document.createElement("canvas"),b=a.getContext("2d");return b.textBaseline="top",b.font="14px 'Arial'",b.textBaseline="alphabetic",b.fillStyle="#f60",b.fillRect(125,1,62,20),b.fillStyle="#069",b.fillText("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!@#$%^&*()_+-={}|[]:\"<>?;,.",2,15),b.fillStyle="rgba(102, 204, 0, 0.7)",b.fillText("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!@#$%^&*()_+-={}|[]:\"<>?;,.",4,17),a.toDataURL()}},a}),function(){"use strict";function a(a){for(var b=0;b<_quantiDataLayer.length;b++)if(_quantiDataLayer[b][0]==a)return _quantiDataLayer[b][1];return"(not set)"}function b(){var a="";try{a=h.top.document.referrer}catch(b){if(h.parent)try{a=h.parent.document.referrer}catch(b){a=""}}return""===a&&(a=g.referrer),a}function c(b,c){var d=new XMLHttpRequest;d.open("POST",a("trackerUrl"),!0),d.setRequestHeader("Content-Type","text/plain"),d.send(JSON.stringify({d:b})),d.onreadystatechange=function(){c!==void 0&&4===d.readyState&&200!==d.status&&201!==d.status&&c()}}function d(){const a=navigator.userAgent;return /(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(a)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(a)?"mobile":"desktop"}function f(a,c){a.push(["url",window.location.href]),a.push(["referrer",b()]),a.push(["visitorId",e]),a.push(["vistorCookieId",j]),a.push(["deviceType",d()]),a.push(["gaCookieId",k]),a.push(["screenResolution",screen.height>screen.width?`${screen.height}x${screen.width}`:`${screen.width}x${screen.height}`]),a.push(["userAgent",navigator.userAgent]),a.push(["cpuClass",navigator.cpuClass]),a.push(["eventType",c])}var g=document,h=window,i=new Fingerprint({canvas:!0,ie_activex:!0,screen_resolution:!0});var e=i.get().toString(),j=function(){var a;let b="qtvtru=",c=decodeURIComponent(g.cookie),d=c.split(";");for(let e,c=0;c<d.length;c++){for(e=d[c];" "==e.charAt(0);)e=e.substring(1);0==e.indexOf(b)&&(a=e.substring(b.length,e.length))}if(!a||0==a.length){a=Date.now()+Math.random().toString(16).substring(2,15)+Math.random().toString(16).substring(2,15);var e=`qtvtru=${a}; expires=${new Date(new Date().getTime()+31536000000).toGMTString()}; path=/`;g.cookie=e}return a}(),k=function(){var a;let b="_ga=",c=decodeURIComponent(g.cookie),d=c.split(";");for(let e,c=0;c<d.length;c++){for(e=d[c];" "==e.charAt(0);)e=e.substring(1);0==e.indexOf(b)&&(a=e.substring(b.length,e.length))}return a}();_quantiTag=function(){if(0!==arguments.length){for(var a=[],b=0;b<arguments.length;b++)a.push(arguments[b]);_quantiDataLayer.push(a)}else{for(var d,g=[],b=0;b<_quantiDataLayer.length;b++){d=[];for(var h=0;h<_quantiDataLayer[b].length;h++)d.push(_quantiDataLayer[b][h]);_quantiDataLayer[b]=d}for(var b=0;b<_quantiDataLayer.length;b++)"event"!==_quantiDataLayer[b][0]&&g.push(_quantiDataLayer[b]);f(g,"pageView"),c(g)}for(var k=[[],[]],b=0;b<_quantiDataLayer.length;b++)"event"===_quantiDataLayer[b][0]&&(k[0].push(_quantiDataLayer[b]),k[1].push(b));if(0<k.length){for(var b=k[1].length-1;0<=b;b--)_quantiDataLayer.splice(k[1][b],1);for(let a=0;a<k[1].length;a++){for(var g=[],b=0;b<_quantiDataLayer.length;b++)"event"!==_quantiDataLayer[b][0]&&g.push(_quantiDataLayer[b]);g.push(k[0][a]),f(g,"event"),c(g,function(){})}}},_quantiTag()}();